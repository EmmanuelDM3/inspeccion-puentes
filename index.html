<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOPC - Formulario de Inspecci贸n de Puentes</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=Libre+Baskerville:wght@700&display=swap" rel="stylesheet">
   
    <!-- LINKS LOS ARCHIVOS DE ESTILOS -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    <!----------------------------------->

</head>
<body>
    <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>
    <div class="container">
        <div class="header">
            <div class="logos-row">
                <div class="logo-card">
                    <img src="assets/logos/logo-mopc.png" alt="Logo del MOPC" class="logo-image">
                </div>
                <div class="logo-card">
                    <img src="assets/logos/logo-intec.png" alt="Logo de INTEC" class="logo-image">
                </div>
            </div>
            <p class="logo-helper-text">Coloca tus archivos en <code>assets/logos/</code> con los nombres <code>logo-mopc.png</code> y <code>logo-intec.png</code>.</p>
            <h1>Formulario de Inspecci贸n de Puentes</h1>
            <p class="subtitle">Ministerio de Obras P煤blicas y Comunicaciones</p>
            <p class="subtitle">Intituto Tecnol贸gico de Santo Domingo</p>
        </div>

        <form id="inspectionForm" class="form-content">
            <!-- SECCIN 1: INFORMACIN GENERAL -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">1</span>
                    Informaci贸n General
                </h2>

                <div class="form-group">
                    <label>Identificador nico <span class="required">*</span></label>
                    <input type="text" id="identificador" required placeholder="Ej: PNT-2025-001">
                </div>

                <div class="form-group">
                    <label>Nombre de la Estructura <span class="required">*</span></label>
                    <input type="text" id="nombreEstructura" required placeholder="Ej: Puente Juan pablo Duarte">
                </div>

                <div class="input-group">
                    <div class="form-group">
                        <label>Provincia <span class="required">*</span></label>
                        <select id="provincia" required>
                            <option value="">Seleccione...</option>
                            <option value="Azua">Azua</option>
                            <option value="Baoruco">Baoruco</option>
                            <option value="Barahona">Barahona</option>
                            <option value="Dajab贸n">Dajab贸n</option>
                            <option value="Distrito Nacional">Distrito Nacional</option>
                            <option value="Duarte">Duarte</option>
                            <option value="El铆as Pi帽a">El铆as Pi帽a</option>
                            <option value="El Seibo">El Seibo</option>
                            <option value="Espaillat">Espaillat</option>
                            <option value="Hato Mayor">Hato Mayor</option>
                            <option value="Hermanas Mirabal">Hermanas Mirabal</option>
                            <option value="Independencia">Independencia</option>
                            <option value="La Altagracia">La Altagracia</option>
                            <option value="La Romana">La Romana</option>
                            <option value="La Vega">La Vega</option>
                            <option value="Mar铆a Trinidad S谩nchez">Mar铆a Trinidad S谩nchez</option>
                            <option value="Monse帽or Nouel">Monse帽or Nouel</option>
                            <option value="Monte Cristi">Monte Cristi</option>
                            <option value="Monte Plata">Monte Plata</option>
                            <option value="Pedernales">Pedernales</option>
                            <option value="Peravia">Peravia</option>
                            <option value="Puerto Plata">Puerto Plata</option>
                            <option value="Saman谩">Saman谩</option>
                            <option value="San Crist贸bal">San Crist贸bal</option>
                            <option value="San Jos茅 de Ocoa">San Jos茅 de Ocoa</option>
                            <option value="San Juan">San Juan</option>
                            <option value="San Pedro de Macor铆s">San Pedro de Macor铆s</option>
                            <option value="S谩nchez Ram铆rez">S谩nchez Ram铆rez</option>
                            <option value="Santiago">Santiago</option>
                            <option value="Santiago Rodr铆guez">Santiago Rodr铆guez</option>
                            <option value="Santo Domingo">Santo Domingo</option>
                            <option value="Valverde">Valverde</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Municipio <span class="required">*</span></label>
                        <input type="text" id="municipio" required placeholder="Ej: Santo Domingo Norte">
                    </div>
                </div>

                <div class="form-group">
                    <label>Localidad m谩s cercana</label>
                    <input type="text" id="localidad" placeholder="Ej: Villa Mella">
                </div>

                <div class="info-box">
                    <div class="info-box-title"> Geolocalizaci贸n GPS</div>
                    <p>Capture la ubicaci贸n actual del puente para registro preciso</p>
                </div>

                <div class="input-group">
                    <div class="form-group">
                        <label>Latitud <span class="required">*</span></label>
                        <input type="number" step="any" id="latitud" required readonly>
                    </div>

                    <div class="form-group">
                        <label>Longitud <span class="required">*</span></label>
                        <input type="number" step="any" id="longitud" required readonly>
                    </div>
                </div>

                <button type="button" class="btn-gps" onclick="obtenerUbicacion()">
                     Capturar Ubicaci贸n Actual
                </button>

                <div class="input-group">
                    <div class="form-group">
                        <label>Zona S铆smica</label>
                        <select id="zonaSismica">
                            <option value="">Seleccione...</option>
                            <option value="I">Zona I</option>
                            <option value="II">Zona II</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Campo</label>
                        <select id="campo">
                            <option value="">Seleccione...</option>
                            <option value="Cercano">Campo Cercano</option>
                            <option value="Lejano">Campo Lejano</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>V铆a que cruza <span class="required">*</span></label>
                    <input type="text" id="viaCruza" placeholder="Ej: Autopista Duarte, Carretera S谩nchez..." required>
                    <p class="helper-text">Nombre de carretera, autopista, camino, etc.</p>
                </div>

                <div class="form-group">
                    <label>Obst谩culo que cruza <span class="required">*</span></label>
                    <input type="text" id="obstaculoCruza" placeholder="Ej: R铆o Cam煤, Arroyo Hondo..." required>
                    <p class="helper-text">R铆o, arroyo, ca帽ada, ferrocarril, otra v铆a, desnivel, etc.</p>
                </div>

                <div class="input-group">
                    <div class="form-group">
                        <label>Fecha de Inspecci贸n <span class="required">*</span></label>
                        <input type="date" id="fechaInspeccion" required>
                    </div>

                    <div class="form-group">
                        <label>Inspector(es) <span class="required">*</span></label>
                        <input type="text" id="inspectores" placeholder="Nombres separados por punto y coma" required>
                    </div>
                </div>
            </div>

            <!-- SECCIN 2: CARACTERSTICAS PRINCIPALES -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">2</span>
                    Caracter铆sticas Principales del Puente
                </h2>

                <div class="form-group">
                    <label>Tipo de Estructura Principal <span class="required">*</span></label>
                    <select id="tipoEstructura" required onchange="mostrarCampoOtro('tipoEstructura', 'otroTipoEstructura')">
                        <option value="">Seleccione...</option>
                        <option value="Losa maciza">1锔 Losa maciza</option>
                        <option value="Viga-losa">2锔 Viga-losa</option>
                        <option value="Viga caj贸n">3锔 Viga caj贸n (Box Girder)</option>
                        <option value="Cercha">4锔 Cercha (Truss)</option>
                        <option value="Arco">5锔 Arco</option>
                        <option value="Atirantado">6锔 Atirantado</option>
                        <option value="Colgante">7锔 Colgante</option>
                        <option value="Marco/P贸rtico">8锔 Marco / P贸rtico</option>
                        <option value="Modular">9锔 Modular (Bailey u otro)</option>
                        <option value="Mixto"> Mixto</option>
                        <option value="Otro">1锔1锔 Otro</option>
                    </select>
                </div>

                <div class="form-group hidden" id="otroTipoEstructura">
                    <label>Especifique otro tipo de estructura</label>
                    <input type="text" id="otroTipoEstructuraTexto">
                </div>

                <div class="form-group">
                    <label>Tipo de Subestructura <span class="required">*</span></label>
                    <select id="tipoSubestructura" required onchange="mostrarCampoOtro('tipoSubestructura', 'otroTipoSubestructura')">
                        <option value="">Seleccione...</option>
                        <optgroup label="A. Pilas">
                            <option value="Pilas tipo columna">Pilas tipo columna</option>
                            <option value="Pilas tipo muro">Pilas tipo muro (pantalla)</option>
                            <option value="Pilas tipo p贸rtico">Pilas tipo p贸rtico (marco abierto)</option>
                            <option value="Pilas tipo cabezal">Pilas tipo cabezal con columnas m煤ltiples</option>
                            <option value="Torres">Torres (puentes atirantados o colgantes)</option>
                        </optgroup>
                        <optgroup label="B. Estribos">
                            <option value="Estribos tipo muro">Estribos tipo muro (macizo)</option>
                            <option value="Estribos tipo pantalla">Estribos tipo pantalla</option>
                            <option value="Estribos cerrados">Estribos cerrados (caj贸n)</option>
                            <option value="Estribos con aletas">Estribos con aletas (wing walls)</option>
                        </optgroup>
                        <optgroup label="C. Especiales">
                            <option value="Subestructura met谩lica">Subestructura met谩lica</option>
                            <option value="Subestructura mixta">Subestructura mixta acero-hormig贸n</option>
                            <option value="Marco integral">Marco integral (sin pilas independientes)</option>
                        </optgroup>
                        <option value="Otro">Otro</option>
                    </select>
                </div>

                <div class="form-group hidden" id="otroTipoSubestructura">
                    <label>Especifique otro tipo de subestructura</label>
                    <input type="text" id="otroTipoSubestructuraTexto">
                </div>

                <div class="form-group">
                    <label>Tipo de Fundaci贸n <span class="required">*</span></label>
                    <select id="tipoFundacion" required onchange="actualizarVisibilidadFundacion()">
                        <option value="">Seleccione...</option>
                        <optgroup label="A. Fundaciones Superficiales">
                            <option value="Zapata aislada">Zapata aislada</option>
                            <option value="Zapata corrida">Zapata corrida</option>
                            <option value="Losa de cimentaci贸n">Losa de cimentaci贸n (platea)</option>
                        </optgroup>
                        <optgroup label="B. Fundaciones Profundas">
                            <option value="Pilotes hincados">Pilotes hincados (prefabricados)</option>
                            <option value="Pilotes perforados">Pilotes perforados (in situ)</option>
                            <option value="Pilotes met谩licos">Pilotes met谩licos (HP, tubulares)</option>
                            <option value="Micropilotes">Micropilotes</option>
                        </optgroup>
                        <option value="Otro">Otro</option>
                        <option value="Desconocido">Desconocido</option>
                        <option value="No visible">No visible</option>
                    </select>
                </div>

                <div class="input-group">
                    <div class="form-group">
                        <label>Material Principal <span class="required">*</span></label>
                        <select id="materialPrincipal" required>
                            <option value="">Seleccione...</option>
                            <option value="Hormig贸n armado">Hormig贸n armado</option>
                            <option value="Hormig贸n pretensado">Hormig贸n pretensado</option>
                            <option value="Acero">Acero</option>
                            <option value="Mixto">Mixto (acero-hormig贸n)</option>
                            <option value="Madera">Madera</option>
                            <option value="Mamposter铆a">Mamposter铆a</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>N煤mero de Tramos <span class="required">*</span></label>
                        <input type="number" id="numeroTramos" min="1" required placeholder="Ej: 3">
                    </div>
                </div>

                <div class="input-group">
                    <div class="form-group">
                        <label>Longitud Total Aproximada (m) <span class="required">*</span></label>
                        <input type="number" step="0.01" id="longitudTotal" min="1" required placeholder="Ej: 100">
                    </div>

                    <div class="form-group">
                        <label>Ancho de Calzada (m) <span class="required">*</span></label>
                        <input type="number" step="0.01" id="anchoCalzada" min="1" required placeholder="Ej: 10">
                    </div>
                </div>

                <div class="input-group">
                    <div class="form-group">
                        <label>Altura Libre / G谩libo (m)</label>
                        <input type="number" step="0.01" id="alturaLibre" min="0" placeholder="Ej: 15">
                    </div>

                    <div class="form-group">
                        <label>A帽o de Construcci贸n Estimado</label>
                        <input type="number" id="anioConstruccion" min="1800" max="2026" placeholder="Ej: 1950">
                    </div>
                </div>

                <div class="form-group">
                    <label>C贸digo Pre/Post <span class="helper-text">(Determinado autom谩ticamente)</span></label>
                    <input type="text" id="codigoPrePost" readonly style="background: #f3f4f6; cursor: not-allowed;">
                </div>
            </div>

            <!-- SECCIN 3: EVALUACIN VISUAL -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">3</span>
                    Evaluaci贸n Visual
                </h2>

                <div class="alert alert-info">
                    <strong>癸 Instrucciones:</strong> Marque cada falla observada y califique su severidad del 1 al 5. Adjunte foto de evidencia para cada elemento evaluado.
                </div>

                <!-- 3.1 SUPERESTRUCTURA -->
                <h3 class="subsection-title">3.1 Superestructura (Vigas y Tablero)</h3>

                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio);">
                    A. LOSAS Y VIGAS
                </div>

                <!-- Fisuras y Grietas -->
                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_fisuras" onchange="toggleSeverityScale('fisuras')">
                        <div class="evaluation-header">1. Fisuras y Grietas Estructurales</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_fisuras">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('fisuras', 5)">
                                <div>5 - Excelente</div>
                                <small style="font-size: 11px; font-weight: 400;">Sin fisuras</small>
                            </button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('fisuras', 4)">
                                <div>4 - Bueno</div>
                                <small style="font-size: 11px; font-weight: 400;">Fisuras capilares</small>
                            </button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('fisuras', 3)">
                                <div>3 - Regular</div>
                                <small style="font-size: 11px; font-weight: 400;">Fisuras moderadas</small>
                            </button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('fisuras', 2)">
                                <div>2 - Serio</div>
                                <small style="font-size: 11px; font-weight: 400;">Grietas diagonales</small>
                            </button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('fisuras', 1)">
                                <div>1 - Cr铆tico</div>
                                <small style="font-size: 11px; font-weight: 400;">Fractura total</small>
                            </button>
                        </div>
                        <input type="hidden" id="severity_value_fisuras">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_fisuras" onchange="previewPhoto('fisuras')">
                            <div class="photo-preview" id="preview_fisuras"></div>
                        </div>
                    </div>
                </div>

                <!-- Exposici贸n y Corrosi贸n -->
                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_corrosion" onchange="toggleSeverityScale('corrosion')">
                        <div class="evaluation-header">2. Exposici贸n y Corrosi贸n de Armadura / Cables / Perfiles</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_corrosion">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('corrosion', 5)">
                                <div>5 - Excelente</div>
                                <small style="font-size: 11px; font-weight: 400;">Acero recubierto</small>
                            </button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('corrosion', 4)">
                                <div>4 - Bueno</div>
                                <small style="font-size: 11px; font-weight: 400;">Manchas superficiales</small>
                            </button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('corrosion', 3)">
                                <div>3 - Regular</div>
                                <small style="font-size: 11px; font-weight: 400;">Spalling</small>
                            </button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('corrosion', 2)">
                                <div>2 - Serio</div>
                                <small style="font-size: 11px; font-weight: 400;">Acero expuesto</small>
                            </button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('corrosion', 1)">
                                <div>1 - Cr铆tico</div>
                                <small style="font-size: 11px; font-weight: 400;">Acero cortado</small>
                            </button>
                        </div>
                        <input type="hidden" id="severity_value_corrosion">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_corrosion" onchange="previewPhoto('corrosion')">
                            <div class="photo-preview" id="preview_corrosion"></div>
                        </div>
                    </div>
                </div>

                <!-- Deflexiones -->
                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_deflexiones" onchange="toggleSeverityScale('deflexiones')">
                        <div class="evaluation-header">3. Deflexiones y Comportamiento Din谩mico</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_deflexiones">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('deflexiones', 5)">
                                <div>5 - Excelente</div>
                                <small style="font-size: 11px; font-weight: 400;">Viga recta</small>
                            </button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('deflexiones', 4)">
                                <div>4 - Bueno</div>
                                <small style="font-size: 11px; font-weight: 400;">Deflexi贸n sin progresi贸n</small>
                            </button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('deflexiones', 3)">
                                <div>3 - Regular</div>
                                <small style="font-size: 11px; font-weight: 400;">Deflexi贸n visible</small>
                            </button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('deflexiones', 2)">
                                <div>2 - Serio</div>
                                <small style="font-size: 11px; font-weight: 400;">Vibraciones an贸malas</small>
                            </button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('deflexiones', 1)">
                                <div>1 - Cr铆tico</div>
                                <small style="font-size: 11px; font-weight: 400;">Hundimiento cr铆tico</small>
                            </button>
                        </div>
                        <input type="hidden" id="severity_value_deflexiones">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_deflexiones" onchange="previewPhoto('deflexiones')">
                            <div class="photo-preview" id="preview_deflexiones"></div>
                        </div>
                    </div>
                </div>

                <!-- Da帽o por Impacto -->
                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_impacto" onchange="toggleSeverityScale('impacto')">
                        <div class="evaluation-header">4. Da帽o por Impacto Vehicular</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_impacto">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('impacto', 5)">
                                <div>5 - Excelente</div>
                                <small style="font-size: 11px; font-weight: 400;">Sin impactos</small>
                            </button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('impacto', 4)">
                                <div>4 - Bueno</div>
                                <small style="font-size: 11px; font-weight: 400;">Impacto superficial</small>
                            </button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('impacto', 3)">
                                <div>3 - Regular</div>
                                <small style="font-size: 11px; font-weight: 400;">Raspaduras</small>
                            </button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('impacto', 2)">
                                <div>2 - Serio</div>
                                <small style="font-size: 11px; font-weight: 400;">Acero expuesto</small>
                            </button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('impacto', 1)">
                                <div>1 - Cr铆tico</div>
                                <small style="font-size: 11px; font-weight: 400;">Rotura de concreto</small>
                            </button>
                        </div>
                        <input type="hidden" id="severity_value_impacto">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_impacto" onchange="previewPhoto('impacto')">
                            <div class="photo-preview" id="preview_impacto"></div>
                        </div>
                    </div>
                </div>

                <!-- Humedad y Filtraciones -->
                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_humedad" onchange="toggleSeverityScale('humedad')">
                        <div class="evaluation-header">5. Humedad, Filtraciones y Biodeterioro</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_humedad">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('humedad', 5)">
                                <div>5 - Excelente</div>
                                <small style="font-size: 11px; font-weight: 400;">Seco y limpio</small>
                            </button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('humedad', 4)">
                                <div>4 - Bueno</div>
                                <small style="font-size: 11px; font-weight: 400;">Manchas aisladas</small>
                            </button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('humedad', 3)">
                                <div>3 - Regular</div>
                                <small style="font-size: 11px; font-weight: 400;">Filtraci贸n activa</small>
                            </button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('humedad', 2)">
                                <div>2 - Serio</div>
                                <small style="font-size: 11px; font-weight: 400;">Saturaci贸n constante</small>
                            </button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('humedad', 1)">
                                <div>1 - Cr铆tico</div>
                                <small style="font-size: 11px; font-weight: 400;">Lixiviaci贸n masiva</small>
                            </button>
                        </div>
                        <input type="hidden" id="severity_value_humedad">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_humedad" onchange="previewPhoto('humedad')">
                            <div class="photo-preview" id="preview_humedad"></div>
                        </div>
                    </div>
                </div>

                <!-- B. JUNTAS DE EXPANSIN -->
                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio); margin-top: 40px;">
                    B. JUNTAS DE EXPANSIN
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_juntas_estado" onchange="toggleSeverityScale('juntas_estado')">
                        <div class="evaluation-header">1. Estado F铆sico y Anclaje</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_juntas_estado">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('juntas_estado', 5)">5 - Alineada y firme</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('juntas_estado', 4)">4 - Desgaste normal</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('juntas_estado', 3)">3 - Sello roto</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('juntas_estado', 2)">2 - Platinas sueltas</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('juntas_estado', 1)">1 - Falla total</button>
                        </div>
                        <input type="hidden" id="severity_value_juntas_estado">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_juntas_estado" onchange="previewPhoto('juntas_estado')">
                            <div class="photo-preview" id="preview_juntas_estado"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_juntas_limpieza" onchange="toggleSeverityScale('juntas_limpieza')">
                        <div class="evaluation-header">2. Funcionalidad y Limpieza</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_juntas_limpieza">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('juntas_limpieza', 5)">5 - Libre de escombros</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('juntas_limpieza', 4)">4 - Polvo/arena suelta</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('juntas_limpieza', 3)">3 - Sedimentos</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('juntas_limpieza', 2)">2 - Vegetaci贸n</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('juntas_limpieza', 1)">1 - Bloqueada</button>
                        </div>
                        <input type="hidden" id="severity_value_juntas_limpieza">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_juntas_limpieza" onchange="previewPhoto('juntas_limpieza')">
                            <div class="photo-preview" id="preview_juntas_limpieza"></div>
                        </div>
                    </div>
                </div>

                <!-- C. SUPERFICIE DE RODADURA -->
                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio); margin-top: 40px;">
                    C. SUPERFICIE DE RODADURA (Capa de Desgaste)
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_carpeta" onchange="toggleSeverityScale('carpeta')">
                        <div class="evaluation-header">1. Integridad de la Carpeta</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_carpeta">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('carpeta', 5)">5 - Lisa y uniforme</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('carpeta', 4)">4 - Desgaste superficial</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('carpeta', 3)">3 - Piel de cocodrilo</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('carpeta', 2)">2 - Baches profundos</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('carpeta', 1)">1 - Hueco total</button>
                        </div>
                        <input type="hidden" id="severity_value_carpeta">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_carpeta" onchange="previewPhoto('carpeta')">
                            <div class="photo-preview" id="preview_carpeta"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_drenaje" onchange="toggleSeverityScale('drenaje')">
                        <div class="evaluation-header">2. Drenaje y Evacuaci贸n Pluvial</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_drenaje">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('drenaje', 5)">5 - Pendientes correctas</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('drenaje', 4)">4 - Charcos leves</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('drenaje', 3)">3 - Obstrucci贸n parcial</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('drenaje', 2)">2 - Fuga hacia vigas</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('drenaje', 1)">1 - Inexistente</button>
                        </div>
                        <input type="hidden" id="severity_value_drenaje">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_drenaje" onchange="previewPhoto('drenaje')">
                            <div class="photo-preview" id="preview_drenaje"></div>
                        </div>
                    </div>
                </div>

                <!-- 3.2 SUBESTRUCTURA -->
                <h3 class="subsection-title">3.2 Evaluaci贸n de la Subestructura</h3>

                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio);">
                    A. ESTRIBOS (Bastiones y Muros de Ala)
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_estribos_integridad" onchange="toggleSeverityScale('estribos_integridad')">
                        <div class="evaluation-header">1. Integridad Estructural y Fisuramiento</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_estribos_integridad">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('estribos_integridad', 5)">5 - Sin fisuras</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('estribos_integridad', 4)">4 - Fisuras capilares</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('estribos_integridad', 3)">3 - Fisuras moderadas</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('estribos_integridad', 2)">2 - Grietas severas</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('estribos_integridad', 1)">1 - Fractura</button>
                        </div>
                        <input type="hidden" id="severity_value_estribos_integridad">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_estribos_integridad" onchange="previewPhoto('estribos_integridad')">
                            <div class="photo-preview" id="preview_estribos_integridad"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_estribos_alineacion" onchange="toggleSeverityScale('estribos_alineacion')">
                        <div class="evaluation-header">2. Estabilidad y Alineaci贸n</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_estribos_alineacion">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('estribos_alineacion', 5)">5 - Alineado</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('estribos_alineacion', 4)">4 - Desgaste leve</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('estribos_alineacion', 3)">3 - Filtraci贸n</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('estribos_alineacion', 2)">2 - Sin anclaje</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('estribos_alineacion', 1)">1 - Rotaci贸n cr铆tica</button>
                        </div>
                        <input type="hidden" id="severity_value_estribos_alineacion">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_estribos_alineacion" onchange="previewPhoto('estribos_alineacion')">
                            <div class="photo-preview" id="preview_estribos_alineacion"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_asentamiento" onchange="toggleSeverityScale('asentamiento')">
                        <div class="evaluation-header">3. Asentamiento del Relleno y Aproches</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_asentamiento">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('asentamiento', 5)">5 - Uni贸n perfecta</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('asentamiento', 4)">4 - Fisuras leves</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('asentamiento', 3)">3 - Asentamiento</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('asentamiento', 2)">2 - Abertura cr铆tica</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('asentamiento', 1)">1 - Escal贸n cr铆tico</button>
                        </div>
                        <input type="hidden" id="severity_value_asentamiento">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_asentamiento" onchange="previewPhoto('asentamiento')">
                            <div class="photo-preview" id="preview_asentamiento"></div>
                        </div>
                    </div>
                </div>

                <!-- B. PILARES -->
                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio); margin-top: 40px;">
                    B. PILARES / COLUMNAS
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_pilares_integridad" onchange="toggleSeverityScale('pilares_integridad')">
                        <div class="evaluation-header">1. Integridad de Columnas y Capiteles</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_pilares_integridad">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('pilares_integridad', 5)">5 - Sanos y limpios</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('pilares_integridad', 4)">4 - Manchas leves</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('pilares_integridad', 3)">3 - Fisuras/humedad</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('pilares_integridad', 2)">2 - Grietas severas</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('pilares_integridad', 1)">1 - Aplastamiento</button>
                        </div>
                        <input type="hidden" id="severity_value_pilares_integridad">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_pilares_integridad" onchange="previewPhoto('pilares_integridad')">
                            <div class="photo-preview" id="preview_pilares_integridad"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_pilares_verticalidad" onchange="toggleSeverityScale('pilares_verticalidad')">
                        <div class="evaluation-header">2. Verticalidad y Plomo</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_pilares_verticalidad">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('pilares_verticalidad', 5)">5 - Vertical</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('pilares_verticalidad', 4)">4 - Desviaci贸n m铆nima</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('pilares_verticalidad', 3)">3 - Inclinaci贸n leve</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('pilares_verticalidad', 2)">2 - Pandeo visible</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('pilares_verticalidad', 1)">1 - Colapso de pila</button>
                        </div>
                        <input type="hidden" id="severity_value_pilares_verticalidad">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_pilares_verticalidad" onchange="previewPhoto('pilares_verticalidad')">
                            <div class="photo-preview" id="preview_pilares_verticalidad"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_pilares_corrosion" onchange="toggleSeverityScale('pilares_corrosion')">
                        <div class="evaluation-header">3. Corrosi贸n y Exposici贸n de Acero</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_pilares_corrosion">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('pilares_corrosion', 5)">5 - Recubrimiento sano</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('pilares_corrosion', 4)">4 - Manchas superficiales</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('pilares_corrosion', 3)">3 - Spalling</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('pilares_corrosion', 2)">2 - Acero expuesto</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('pilares_corrosion', 1)">1 - P茅rdida de secci贸n</button>
                        </div>
                        <input type="hidden" id="severity_value_pilares_corrosion">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_pilares_corrosion" onchange="previewPhoto('pilares_corrosion')">
                            <div class="photo-preview" id="preview_pilares_corrosion"></div>
                        </div>
                    </div>
                </div>

                <!-- 3.3 FUNDACIN Y APARATOS DE APOYO -->
                <h3 class="subsection-title">3.3 Fundaci贸n y Aparatos de Apoyo</h3>

                <div class="alert alert-warning" id="fundacionNoVisible" style="display: none;">
                    <strong>锔 Nota:</strong> Las fundaciones no son visibles. Esta secci贸n se omitir谩 en la evaluaci贸n.
                </div>

                <div id="seccionFundacion">
                    <div class="evaluation-item">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check_apoyos" onchange="toggleSeverityScale('apoyos')">
                            <div class="evaluation-header">1. Estado de los Aparatos de Apoyo</div>
                        </div>
                        
                        <div class="severity-scale" id="severity_apoyos">
                            <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                            <div class="severity-options">
                                <button type="button" class="severity-btn level-5" onclick="selectSeverity('apoyos', 5)">5 - Centrados</button>
                                <button type="button" class="severity-btn level-4" onclick="selectSeverity('apoyos', 4)">4 - Deformaci贸n normal</button>
                                <button type="button" class="severity-btn level-3" onclick="selectSeverity('apoyos', 3)">3 - Agrietamiento</button>
                                <button type="button" class="severity-btn level-2" onclick="selectSeverity('apoyos', 2)">2 - Desplazado</button>
                                <button type="button" class="severity-btn level-1" onclick="selectSeverity('apoyos', 1)">1 - Inexistente</button>
                            </div>
                            <input type="hidden" id="severity_value_apoyos">
                            
                            <div class="photo-upload">
                                <label>Foto de Evidencia:</label>
                                <input type="file" accept="image/*" id="photo_apoyos" onchange="previewPhoto('apoyos')">
                                <div class="photo-preview" id="preview_apoyos"></div>
                            </div>
                        </div>
                    </div>

                    <div class="evaluation-item">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check_cabezal" onchange="toggleSeverityScale('cabezal')">
                            <div class="evaluation-header">2. Estado del Cabezal de Pilotes</div>
                        </div>
                        
                        <div class="severity-scale" id="severity_cabezal">
                            <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                            <div class="severity-options">
                                <button type="button" class="severity-btn level-5" onclick="selectSeverity('cabezal', 5)">5 - Intacto</button>
                                <button type="button" class="severity-btn level-4" onclick="selectSeverity('cabezal', 4)">4 - Abrasi贸n superficial</button>
                                <button type="button" class="severity-btn level-3" onclick="selectSeverity('cabezal', 3)">3 - Despostillamiento</button>
                                <button type="button" class="severity-btn level-2" onclick="selectSeverity('cabezal', 2)">2 - Grietas estructurales</button>
                                <button type="button" class="severity-btn level-1" onclick="selectSeverity('cabezal', 1)">1 - Cabezal fracturado</button>
                            </div>
                            <input type="hidden" id="severity_value_cabezal">
                            
                            <div class="photo-upload">
                                <label>Foto de Evidencia:</label>
                                <input type="file" accept="image/*" id="photo_cabezal" onchange="previewPhoto('cabezal')">
                                <div class="photo-preview" id="preview_cabezal"></div>
                            </div>
                        </div>
                    </div>

                    <div class="evaluation-item">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check_impacto_fundacion" onchange="toggleSeverityScale('impacto_fundacion')">
                            <div class="evaluation-header">3. Da帽os por Impacto en Cimentaciones</div>
                        </div>
                        
                        <div class="severity-scale" id="severity_impacto_fundacion">
                            <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                            <div class="severity-options">
                                <button type="button" class="severity-btn level-5" onclick="selectSeverity('impacto_fundacion', 5)">5 - Sin da帽os</button>
                                <button type="button" class="severity-btn level-4" onclick="selectSeverity('impacto_fundacion', 4)">4 - Marcas superficiales</button>
                                <button type="button" class="severity-btn level-3" onclick="selectSeverity('impacto_fundacion', 3)">3 - Impacto moderado</button>
                                <button type="button" class="severity-btn level-2" onclick="selectSeverity('impacto_fundacion', 2)">2 - Impacto severo</button>
                                <button type="button" class="severity-btn level-1" onclick="selectSeverity('impacto_fundacion', 1)">1 - Destrucci贸n</button>
                            </div>
                            <input type="hidden" id="severity_value_impacto_fundacion">
                            
                            <div class="photo-upload">
                                <label>Foto de Evidencia:</label>
                                <input type="file" accept="image/*" id="photo_impacto_fundacion" onchange="previewPhoto('impacto_fundacion')">
                                <div class="photo-preview" id="preview_impacto_fundacion"></div>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-danger">
                        <strong>锔 PELIGRO ESTRUCTURAL N掳1 - SOCAVACIN</strong><br>
                        La socavaci贸n es la p茅rdida de suelo que compromete la fundaci贸n. Una socavaci贸n de Nivel 1 o 2 requiere PRIORIDAD ALTA inmediata.
                    </div>

                    <div class="evaluation-item">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check_socavacion" onchange="toggleSeverityScale('socavacion')">
                            <div class="evaluation-header">4. Exposici贸n de Cimentaci贸n - SOCAVACIN</div>
                        </div>
                        
                        <div class="severity-scale" id="severity_socavacion">
                            <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                            <div class="severity-options">
                                <button type="button" class="severity-btn level-5" onclick="selectSeverity('socavacion', 5)">5 - Enterrada</button>
                                <button type="button" class="severity-btn level-4" onclick="selectSeverity('socavacion', 4)">4 - Erosi贸n leve</button>
                                <button type="button" class="severity-btn level-3" onclick="selectSeverity('socavacion', 3)">3 - Incipiente</button>
                                <button type="button" class="severity-btn level-2" onclick="selectSeverity('socavacion', 2)">2 - Severa</button>
                                <button type="button" class="severity-btn level-1" onclick="selectSeverity('socavacion', 1)">1 - Cr铆tica</button>
                            </div>
                            <input type="hidden" id="severity_value_socavacion">
                            
                            <div class="photo-upload">
                                <label>Foto de Evidencia:</label>
                                <input type="file" accept="image/*" id="photo_socavacion" onchange="previewPhoto('socavacion')">
                                <div class="photo-preview" id="preview_socavacion"></div>
                            </div>
                        </div>
                    </div>

                    <div class="evaluation-item">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check_lavado" onchange="toggleSeverityScale('lavado')">
                            <div class="evaluation-header">5. Lavado de Material de Relleno</div>
                        </div>
                        
                        <div class="severity-scale" id="severity_lavado">
                            <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                            <div class="severity-options">
                                <button type="button" class="severity-btn level-5" onclick="selectSeverity('lavado', 5)">5 - Estable</button>
                                <button type="button" class="severity-btn level-4" onclick="selectSeverity('lavado', 4)">4 - Erosi贸n menor</button>
                                <button type="button" class="severity-btn level-3" onclick="selectSeverity('lavado', 3)">3 - P茅rdida de material</button>
                                <button type="button" class="severity-btn level-2" onclick="selectSeverity('lavado', 2)">2 - Oquedad</button>
                                <button type="button" class="severity-btn level-1" onclick="selectSeverity('lavado', 1)">1 - Colapso</button>
                            </div>
                            <input type="hidden" id="severity_value_lavado">
                            
                            <div class="photo-upload">
                                <label>Foto de Evidencia:</label>
                                <input type="file" accept="image/*" id="photo_lavado" onchange="previewPhoto('lavado')">
                                <div class="photo-preview" id="preview_lavado"></div>
                            </div>
                        </div>
                    </div>

                    <div class="evaluation-item">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check_protecciones" onchange="toggleSeverityScale('protecciones')">
                            <div class="evaluation-header">6. Protecciones Hidr谩ulicas</div>
                        </div>
                        
                        <div class="severity-scale" id="severity_protecciones">
                            <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                            <div class="severity-options">
                                <button type="button" class="severity-btn level-5" onclick="selectSeverity('protecciones', 5)">5 - Nuevas e 铆ntegras</button>
                                <button type="button" class="severity-btn level-4" onclick="selectSeverity('protecciones', 4)">4 - Vegetaci贸n leve</button>
                                <button type="button" class="severity-btn level-3" onclick="selectSeverity('protecciones', 3)">3 - Malla da帽ada</button>
                                <button type="button" class="severity-btn level-2" onclick="selectSeverity('protecciones', 2)">2 - Desplazamiento</button>
                                <button type="button" class="severity-btn level-1" onclick="selectSeverity('protecciones', 1)">1 - Destrucci贸n total</button>
                            </div>
                            <input type="hidden" id="severity_value_protecciones">
                            
                            <div class="photo-upload">
                                <label>Foto de Evidencia:</label>
                                <input type="file" accept="image/*" id="photo_protecciones" onchange="previewPhoto('protecciones')">
                                <div class="photo-preview" id="preview_protecciones"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3.4 CAUCE Y ENTORNO HIDRULICO -->
                <h3 class="subsection-title">3.4 Evaluaci贸n del Cauce y Entorno Hidr谩ulico</h3>

                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio);">
                    A. ESTADO DEL CAUCE Y OBSTRUCCIONES
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_obstruccion" onchange="toggleSeverityScale('obstruccion')">
                        <div class="evaluation-header">1. Obstrucci贸n del rea Hidr谩ulica</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_obstruccion">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('obstruccion', 5)">5 - Limpio</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('obstruccion', 4)">4 - Sedimentos m铆nimos</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('obstruccion', 3)">3 - Obstrucci贸n parcial</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('obstruccion', 2)">2 - Troncos atrapados</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('obstruccion', 1)">1 - Obstrucci贸n total</button>
                        </div>
                        <input type="hidden" id="severity_value_obstruccion">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_obstruccion" onchange="previewPhoto('obstruccion')">
                            <div class="photo-preview" id="preview_obstruccion"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_vegetacion" onchange="toggleSeverityScale('vegetacion')">
                        <div class="evaluation-header">2. Crecimiento de Vegetaci贸n Invasiva</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_vegetacion">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('vegetacion', 5)">5 - Sin vegetaci贸n</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('vegetacion', 4)">4 - Hierba baja</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('vegetacion', 3)">3 - Arbustos</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('vegetacion', 2)">2 - rboles</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('vegetacion', 1)">1 - Maleza densa</button>
                        </div>
                        <input type="hidden" id="severity_value_vegetacion">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_vegetacion" onchange="previewPhoto('vegetacion')">
                            <div class="photo-preview" id="preview_vegetacion"></div>
                        </div>
                    </div>
                </div>

                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio); margin-top: 40px;">
                    B. PROTECCIN DE TALUDES Y GAVIONES
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_gaviones_talud" onchange="toggleSeverityScale('gaviones_talud')">
                        <div class="evaluation-header">1. Integridad de Gaviones / Enrocados</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_gaviones_talud">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('gaviones_talud', 5)">5 - Nuevos</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('gaviones_talud', 4)">4 - Deformaci贸n leve</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('gaviones_talud', 3)">3 - Malla oxidada</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('gaviones_talud', 2)">2 - Desplazamiento severo</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('gaviones_talud', 1)">1 - Destrucci贸n</button>
                        </div>
                        <input type="hidden" id="severity_value_gaviones_talud">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_gaviones_talud" onchange="previewPhoto('gaviones_talud')">
                            <div class="photo-preview" id="preview_gaviones_talud"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_erosion_taludes" onchange="toggleSeverityScale('erosion_taludes')">
                        <div class="evaluation-header">2. Erosi贸n de Taludes y Rellenos</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_erosion_taludes">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('erosion_taludes', 5)">5 - Estables</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('erosion_taludes', 4)">4 - Erosi贸n superficial</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('erosion_taludes', 3)">3 - C谩rcavas</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('erosion_taludes', 2)">2 - Deslizamientos</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('erosion_taludes', 1)">1 - Falla total</button>
                        </div>
                        <input type="hidden" id="severity_value_erosion_taludes">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_erosion_taludes" onchange="previewPhoto('erosion_taludes')">
                            <div class="photo-preview" id="preview_erosion_taludes"></div>
                        </div>
                    </div>
                </div>

                <!-- 3.5 FUNCIONALIDAD Y SEGURIDAD VIAL -->
                <h3 class="subsection-title">3.5 Funcionalidad y Seguridad Vial</h3>

                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio);">
                    A. SEGURIDAD VIAL (Riesgo Directo al Usuario)
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_barandas" onchange="toggleSeverityScale('barandas')">
                        <div class="evaluation-header">1. Barandas y Defensas</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_barandas">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('barandas', 5)">5 - Excelente</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('barandas', 4)">4 - Bueno</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('barandas', 3)">3 - Regular</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('barandas', 2)">2 - Malo (Riesgo)</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('barandas', 1)">1 - Cr铆tico</button>
                        </div>
                        <input type="hidden" id="severity_value_barandas">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_barandas" onchange="previewPhoto('barandas')">
                            <div class="photo-preview" id="preview_barandas"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_superficie_rodadura" onchange="toggleSeverityScale('superficie_rodadura')">
                        <div class="evaluation-header">2. Superficie de Rodadura (Confort y Seguridad)</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_superficie_rodadura">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('superficie_rodadura', 5)">5 - Excelente</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('superficie_rodadura', 4)">4 - Bueno</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('superficie_rodadura', 3)">3 - Regular</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('superficie_rodadura', 2)">2 - Malo</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('superficie_rodadura', 1)">1 - Cr铆tico</button>
                        </div>
                        <input type="hidden" id="severity_value_superficie_rodadura">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_superficie_rodadura" onchange="previewPhoto('superficie_rodadura')">
                            <div class="photo-preview" id="preview_superficie_rodadura"></div>
                        </div>
                    </div>
                </div>

                <div class="subsection-title" style="font-size: 16px; color: var(--gris-oscuro); border-left-color: var(--gris-medio); margin-top: 40px;">
                    B. LIMITACIONES GEOMTRICAS (Obsolescencia Funcional)
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_ancho_calzada_eval" onchange="toggleSeverityScale('ancho_calzada_eval')">
                        <div class="evaluation-header">1. Ancho de Calzada y Hombros</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_ancho_calzada_eval">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('ancho_calzada_eval', 5)">5 - Adecuado</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('ancho_calzada_eval', 4)">4 - Suficiente</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('ancho_calzada_eval', 3)">3 - Limitado</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('ancho_calzada_eval', 2)">2 - Estrecho</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('ancho_calzada_eval', 1)">1 - Obsoleto</button>
                        </div>
                        <input type="hidden" id="severity_value_ancho_calzada_eval">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_ancho_calzada_eval" onchange="previewPhoto('ancho_calzada_eval')">
                            <div class="photo-preview" id="preview_ancho_calzada_eval"></div>
                        </div>
                    </div>
                </div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_galibo" onchange="toggleSeverityScale('galibo')">
                        <div class="evaluation-header">2. Altura Libre / G谩libo</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_galibo">
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('galibo', 5)">5 - Adecuado</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('galibo', 4)">4 - Est谩ndar</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('galibo', 3)">3 - Limitado</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('galibo', 2)">2 - Riesgo de impacto</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('galibo', 1)">1 - Cr铆tico</button>
                        </div>
                        <input type="hidden" id="severity_value_galibo">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_galibo" onchange="previewPhoto('galibo')">
                            <div class="photo-preview" id="preview_galibo"></div>
                        </div>
                    </div>
                </div>

                <!-- OTROS DAOS -->
                <div class="subsection-title" style="margin-top: 40px;">Otros Da帽os Observados</div>

                <div class="evaluation-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="check_otros" onchange="toggleSeverityScale('otros')">
                        <div class="evaluation-header">Especificar otros da帽os no listados</div>
                    </div>
                    
                    <div class="severity-scale" id="severity_otros">
                        <div class="form-group">
                            <label>Descripci贸n del da帽o:</label>
                            <textarea id="descripcion_otros" placeholder="Describa el da帽o observado..."></textarea>
                        </div>
                        
                        <label style="font-size: 13px; font-weight: 600; display: block; margin-bottom: 10px;">Nivel de Severidad:</label>
                        <div class="severity-options">
                            <button type="button" class="severity-btn level-5" onclick="selectSeverity('otros', 5)">5 - Excelente</button>
                            <button type="button" class="severity-btn level-4" onclick="selectSeverity('otros', 4)">4 - Bueno</button>
                            <button type="button" class="severity-btn level-3" onclick="selectSeverity('otros', 3)">3 - Regular</button>
                            <button type="button" class="severity-btn level-2" onclick="selectSeverity('otros', 2)">2 - Serio</button>
                            <button type="button" class="severity-btn level-1" onclick="selectSeverity('otros', 1)">1 - Cr铆tico</button>
                        </div>
                        <input type="hidden" id="severity_value_otros">
                        
                        <div class="photo-upload">
                            <label>Foto de Evidencia:</label>
                            <input type="file" accept="image/*" id="photo_otros" onchange="previewPhoto('otros')">
                            <div class="photo-preview" id="preview_otros"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FOTOGRAFAS OBLIGATORIAS -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">4</span>
                    Protocolo de Registro Fotogr谩fico
                </h2>

                <div class="alert alert-info">
                    <strong> Importante:</strong> Se requieren m铆nimo 6 fotograf铆as obligatorias con geolocalizaci贸n y fecha.
                </div>

                <div class="form-group">
                    <label>1. Vista General (Perfil Longitudinal) <span class="required">*</span></label>
                    <input type="file" accept="image/*" id="foto_vista1" required>
                    <p class="helper-text">Fotograf铆a del puente completo</p>
                </div>

                <div class="form-group">
                    <label>2. Vista General Lado 2 <span class="required">*</span></label>
                    <input type="file" accept="image/*" id="foto_vista2" required>
                    <p class="helper-text">Foto del puente desde el otro sentido</p>
                </div>

                <div class="form-group">
                    <label>3. Condici贸n del Tablero / Superficie de Rodadura <span class="required">*</span></label>
                    <input type="file" accept="image/*" id="foto_tablero" required>
                </div>

                <div class="form-group">
                    <label>4. Peor Da帽o de la Superestructura <span class="required">*</span></label>
                    <input type="file" accept="image/*" id="foto_super" required>
                </div>

                <div class="form-group">
                    <label>5. Peor Da帽o de la Subestructura <span class="required">*</span></label>
                    <input type="file" accept="image/*" id="foto_sub" required>
                </div>

                <div class="form-group">
                    <label>6. Riesgo de Socavaci贸n / Condici贸n del Cauce <span class="required">*</span></label>
                    <input type="file" accept="image/*" id="foto_cauce" required>
                </div>
            </div>

            <!-- EVALUACIN GLOBAL -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">5</span>
                    Evaluaci贸n Global y Recomendaciones
                </h2>

                <div class="result-panel" id="resultadosPanel">
                    <h3 class="result-title">Resultados de la Inspecci贸n</h3>
                    
                    <div class="result-item">
                        <span class="result-label">Calificaci贸n Superestructura:</span>
                        <span class="result-value" id="calif_superestructura">-</span>
                    </div>

                    <div class="result-item">
                        <span class="result-label">Calificaci贸n Subestructura:</span>
                        <span class="result-value" id="calif_subestructura">-</span>
                    </div>

                    <div class="result-item">
                        <span class="result-label">Calificaci贸n Cauce:</span>
                        <span class="result-value" id="calif_cauce">-</span>
                    </div>

                    <div class="result-item">
                        <span class="result-label">Calificaci贸n General (CG):</span>
                        <span class="result-value" id="calif_general">-</span>
                    </div>

                    <div class="result-item">
                        <span class="result-label">Nivel de Prioridad:</span>
                        <span class="result-value" id="nivel_prioridad">-</span>
                    </div>

                    <div class="result-item">
                        <span class="result-label">Estado Global:</span>
                        <span class="result-value" id="estado_global">-</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Riesgo Identificado (Si aplica)</label>
                    <textarea id="riesgoIdentificado" placeholder="Ej: Socavaci贸n severa, pilar fracturado..."></textarea>
                </div>

                <div class="form-group">
                    <label>Acci贸n Recomendada <span class="required">*</span></label>
                    <select id="accionRecomendada" required>
                        <option value="">Seleccione...</option>
                        <option value="Mantenimiento Rutinario">Mantenimiento Rutinario</option>
                        <option value="Reparaci贸n Menor">Reparaci贸n Menor</option>
                        <option value="Inspecci贸n Detallada Urgente">Inspecci贸n Detallada Urgente</option>
                        <option value="Restricci贸n de Carga">Restricci贸n de Carga</option>
                        <option value="Cierre Inmediato">Cierre Inmediato</option>
                        <option value="Reemplazo">Reemplazo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Comentarios Adicionales</label>
                    <textarea id="comentariosAdicionales" placeholder="Cualquier informaci贸n relevante no cubierta..."></textarea>
                </div>
            </div>

            <button type="submit" class="submit-btn">
                Generar Reporte de Inspecci贸n
        </form>
    </div>

<!-- link a archivo de script -->
<script src="js/init.js"></script>
<script src="js/geolocation.js"></script>
<script src="js/dynamic-fields.js"></script>
<script src="js/evaluation.js"></script>
<script src="js/notifications.js"></script>
<script src="js/draft.js"></script>
<script src="js/submit.js"></script>
<!------------------------------>

</body>
</html>
